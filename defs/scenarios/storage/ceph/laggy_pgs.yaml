checks:
  cluster_has_laggy_pgs:
    requires:
      property: core.plugins.storage.ceph.CephCluster.laggy_pgs
      # non-zero == True
      op: length_hint
conclusions:
  cluster-has-laggy-pgs:
    decision: cluster_has_laggy_pgs
    raises:
      type: core.issues.issue_types.CephWarning
      message: >-
        Ceph cluster is reporting {num_laggy_pgs} laggy/wait PGs. This suggests
        a potential network or storage issue - please check.
      format-dict:
        num_laggy_pgs: core.plugins.storage.ceph.CephCluster.num_laggy_pgs 
