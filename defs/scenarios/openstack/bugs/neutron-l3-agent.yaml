checks:
  has_1883089:
    input:
      path: 'var/log/neutron/neutron-l3-agent.log'
    expr: '.+AttributeError: ''NoneType'' object has no attribute ''get'''
    hint: 'AttributeError'
  has_1896506:
    input:
      path: 'var/log/syslog'
    expr: '.+Unknown configuration entry ''no_track'' for ip address - ignoring.*'
    hint: 'no_track'
  has_1929832:
    input:
      path: 'var/log/neutron/neutron-l3-agent.log'
    expr: '.+Error while deleting router \S+: \S+ProcessExecutionError: .+ /usr/bin/neutron-rootwrap: Unauthorized command: kill -15 \d+ \(no filter matched\)'
    hint: 'ProcessExecutionError'
conclusions:
  lp1883089:
    decision: has_1883089
    raises:
      type: hotsos.core.issues.LaunchpadBug
      bug-id: 1883089
      message: >-
        Known neutron l3-agent bug identified that affects dvr floating ips.
  lp1896506:
    decision: has_1896506
    raises:
      type: hotsos.core.issues.LaunchpadBug
      bug-id: 1896506
      message: >-
        Known neutron l3-agent bug identified that critically impacts
        keepalived.
  lp1929832:
    decision: has_1929832
    raises:
      type: hotsos.core.issues.LaunchpadBug
      bug-id: 1929832
      message: >-
        Known neutron l3-agent bug identified that impacts deletion of neutron routers.
